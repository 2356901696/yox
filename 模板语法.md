基于美观和简单的特性，我们选择了 `Mustache` 语法。

但考虑到 Mustache 语法并非完美，因此我们有针对性的做了一些改进，York 支持的完整语法如下。

### 插值

一对定界符（即 `{{` 和 `}}`）之间的内容是一个可以求值的**表达式**，表达式的值最终会经过**转义**渲染出来，因此它是安全的。

> 表达式有一章单独讲述，这里不作深入介绍

一般来说，表达式是一个变量，常见的形式如下：

```
{{name}}
```

或者是对象的属性、数组的下标，如下：

```
{{user.name}}
{{array[0]}}
```

或者是稍微复杂一些的表达式，如下：

```
{{name ? '你好' : '请登录'}}
```

### 不转义插值

插值的非安全版本，即渲染的内容和表达式的值保持一致，不做转义处理，常用于富文本的展示。

```
{{{expression}}}
```

> 注意：York 不支持 Mustache 的另一种不转义插值语法 `{{&expression}}`

### 判断


```
{{#if expression}}
    ...
{{else if expression}}
    ...
{{/if}}
```

如果对 `else if` 这种带空格的默认配置不满意，可以自行修改配置。

### 循环数组

```
{{#each array}}
...
{{/each}}
```

如果需要用到数组下标，加上 `:index`。

```
{{#each array:index}}
    ...
{{/each}}
```

如果数组的每一项是基本类型，则用 `this` 表示当前项。

```
{{#each array}}
    {{this}}
{{/each}}
```

### 循环对象

在实现**循环数组**的时候，顺便实现了循环对象，因此语法相同。

```{{#each object:key}} ...{{/each}}```

### 定义子模板

```{{#partial name}} ...{{/each}}```

### 导入子模板

```{{> name}}```

### 函数调用

```{{formatDate(date)}}```

### 特殊变量

当触发事件时，可用 `$event` 表示当前事件对象，如下：

```html<button @click="submit($event)"> submit</button>```

在模板的任何位置，可用 `$keypath` 表示当前的 keypath（后面细说），如下：

```html{{#each array}} {{$keypath}}{{/each}}```
